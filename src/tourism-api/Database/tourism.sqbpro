<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="tourism.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="1"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="3745"/><column_width id="4" width="0"/><expanded_item id="6" parent="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="Tours" custom_title="0" dock_id="1" table="4,5:mainTours"/><dock_state state="000000ff00000000fd0000000100000002000005f4000002aefc0100000001fb000000160064006f0063006b00420072006f00770073006500310100000000000005f40000011e00ffffff000005f40000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="KeyPoints" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="29"/><column index="2" value="85"/><column index="3" value="187"/><column index="4" value="300"/><column index="5" value="588"/><column index="6" value="62"/><column index="7" value="64"/><column index="8" value="48"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Meals" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="29"/><column index="2" value="85"/><column index="3" value="140"/><column index="4" value="39"/><column index="5" value="300"/><column index="6" value="300"/><column index="7" value="84"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="RestaurantReservations" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="29"/><column index="2" value="84"/><column index="3" value="48"/><column index="4" value="101"/><column index="5" value="61"/><column index="6" value="103"/><column index="7" value="44"/><column index="8" value="64"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Restaurants" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="29"/><column index="2" value="156"/><column index="3" value="300"/><column index="4" value="56"/><column index="5" value="300"/><column index="6" value="62"/><column index="7" value="64"/><column index="8" value="85"/><column index="9" value="59"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="TourFeedbacks" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="29"/><column index="2" value="48"/><column index="3" value="48"/><column index="4" value="70"/><column index="5" value="87"/><column index="6" value="62"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="TourKeypoints" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="72"/><column index="2" value="48"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="TourReservations" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="29"/><column index="2" value="48"/><column index="3" value="48"/><column index="4" value="103"/><column index="5" value="187"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Tours" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="29"/><column index="2" value="218"/><column index="3" value="300"/><column index="4" value="156"/><column index="5" value="69"/><column index="6" value="85"/><column index="7" value="55"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="Users" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="29"/><column index="2" value="70"/><column index="3" value="70"/><column index="4" value="62"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="sqlite_sequence" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="93"/><column index="2" value="29"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1">CREATE TABLE Users (
   Id INTEGER PRIMARY KEY AUTOINCREMENT,
   Username TEXT,
   Password TEXT,
   Role TEXT
);

CREATE TABLE Tours (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Name TEXT,
    Description TEXT,
    DateTime TEXT,
    MaxGuests INTEGER,
	Status TEXT,
	GuideId INTEGER,
    FOREIGN KEY (GuideId) REFERENCES Users(Id) ON DELETE CASCADE
);

CREATE TABLE KeyPoints (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
	OrderPosition INTEGER,
    Name TEXT,
    Description TEXT,
    ImageUrl TEXT,
    Latitude REAL,
	Longitude REAL,
    TourId INTEGER,
    FOREIGN KEY (TourId) REFERENCES Tours(Id) ON DELETE CASCADE
);

CREATE TABLE Restaurants (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Name TEXT,
    Description TEXT,
    Capacity INTEGER,
    ImageUrl TEXT,
    Latitude REAL,
	Longitude REAL,
	Status TEXT,
	OwnerId INTEGER,
	FOREIGN KEY (OwnerId) REFERENCES Users(Id) ON DELETE CASCADE
);

CREATE TABLE Meals (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
	OrderPosition INTEGER,
    Name TEXT,
    Price REAL,
    Ingredients TEXT,
    ImageUrl TEXT,
    RestaurantId INTEGER,
    FOREIGN KEY (RestaurantId) REFERENCES Restaurants(Id) ON DELETE CASCADE
);

INSERT INTO Users (Id,Username,Password,Role) VALUES 
 (1,'turista1','turista1','turista'),
 (2,'turista2','turista2','turista'),
 (3,'turista3','turista3','turista'),
 (4,'turista4','turista4','turista'),
 (5,'turista5','turista5','turista'),
 (6,'turista6','turista6','turista'),
 (7,'vlasnik1','vlasnik1','vlasnik'),
 (8,'vlasnik2','vlasnik2','vlasnik'),
 (9,'vlasnik3','vlasnik3','vlasnik'),
 (10,'vodic1','vodic1','vodic'),
 (11,'vodic2','vodic2','vodic'),
 (12,'vodic3','vodic3','vodic');

INSERT INTO Tours (Id,Name,Description,DateTime,MaxGuests,Status,GuideId) VALUES 
 (1,'Beogradska Tura','Obilazak Beograda sa istorijskim lokalitetima','2025-04-01 10:00:00',20,'objavljeno',10),
 (2,'Novi Sad Obilazak','Istražite najbolje od Novog Sada','2025-04-02 09:00:00',15,'objavljeno',11),
 (3,'Niška Istorijska Tura','Šetnja kroz istoriju Niša','2025-04-03 11:00:00',10,'objavljeno',12),
 (4,'Zemunski Obala Tura','Scenski obilazak uz reku u Zemunu','2025-04-04 12:00:00',25,'objavljeno',10),
 (5,'Subotica Kulturna Tura','Istražite kulturnu baštinu Subotice','2025-04-05 08:00:00',12,'objavljeno',11);

INSERT INTO KeyPoints (Id,OrderPosition,Name,Description,ImageUrl,Latitude,Longitude,TourId) VALUES 
 (1,1,'Kalemegdan Tvrđava','Istorijska tvrđava u Beogradu sa prelepim pogledom','https://example.com/kalemegdan.jpg',44.8176,20.4633,1),
 (2,2,'Saborna Crkva','Lepa pravoslavna crkva u Novom Sadu','https://example.com/saborna.jpg',45.2671,19.8335,1),
 (3,3,'Muzej Nikole Tesle','Muzej posvećen Nikoli Tesli u Beogradu','https://example.com/tesla_museum.jpg',44.8228,20.4572,1),
 (4,1,'Petrovaradinska Tvrđava','Tvrđava sa prelepim pogledom na Novi Sad','https://example.com/petrovaradinska_tvrdjava.jpg',45.2461,19.8446,2),
 (5,2,'Zlatibor Priroda','Netaknuta priroda i staze na Zlatiboru','https://example.com/zlatibor_nature.jpg',43.7284,19.6089,2),
 (6,3,'Centar Novog Sada','Centar Novog Sada sa odličnim restoranima i prodavnicama','https://example.com/novi_sad_city.jpg',45.2671,19.8335,2),
 (7,1,'Niška Tvrđava','Tvrđava iz rimskog doba smeštena u Nišu','https://example.com/niska_tvrdjava.jpg',43.3147,21.8954,3),
 (8,2,'Crkva Svetog Save','Najveća crkva u Nišu','https://example.com/sveti_sava.jpg',43.3172,21.8961,3),
 (9,3,'Čele Kula','Spomenik žrtvama Prvog srpskog ustanka','https://example.com/cele_kula.jpg',43.3125,21.8958,3),
 (10,1,'Zemunska Obala','Uživajte u mirnom pogledu na reku sa Zemunske obale','https://example.com/zemun_quay.jpg',44.9862,20.4068,4),
 (11,2,'Gardos Toranj','Srednjovekovni toranj sa prelepim pogledom na reku','https://example.com/gardos_tower.jpg',44.9925,20.4031,4),
 (12,3,'Zemunska Crkva','Stara crkva sa bogatom istorijom','https://example.com/zemun_church.jpg',44.9867,20.406,4),
 (13,1,'Centar Subotice','Prelepa arhitektura i istorijske zgrade u centru Subotice','https://example.com/subotica_city.jpg',46.1003,19.6669,5),
 (14,2,'Palićko Jezero','Mirno jezero idealno za odmor','https://example.com/palic_lake.jpg',46.0705,19.7119,5),
 (15,3,'Subotička Sinagoga','Najveća sinagoga u Srbiji','https://example.com/subotica_synagogue.jpg',46.1003,19.6669,5);

INSERT INTO Restaurants (Id,Name,Description,Capacity,ImageUrl,Latitude,Longitude,Status,OwnerId) VALUES 
 (1,'Restoran Kalemegdan','Tradicionalna srpska hrana sa pogledom na grad',100,'https://example.com/kalemegdan_restaurant.jpg',44.8176,20.4633,'objavljeno',7),
 (2,'Restoran Novi Sad','Sveži lokalni sastojci i moderna srpska kuhinja',80,'https://example.com/novi_sad_restaurant.jpg',45.2671,19.8335,'objavljeno',8),
 (3,'Restoran Niš','Tradicionalna jela u srcu Niša',60,'https://example.com/nis_restaurant.jpg',43.3147,21.8954,'objavljeno',9),
 (4,'Restoran Zemun','Prijatna atmosfera sa odličnom srpskom hranom',50,'https://example.com/zemun_restaurant.jpg',44.9897,20.4067,'objavljeno',7),
 (5,'Restoran Subotica','Sveži lokalni sastojci sa modernim twistom',70,'https://example.com/subotica_restaurant.jpg',46.1003,19.6669,'objavljeno',8);

INSERT INTO Meals (Id,OrderPosition,Name,Price,Ingredients,ImageUrl,RestaurantId) VALUES 
 (1,1,'Pljeskavica',10.5,'Govedina, svinjetina, začini','https://example.com/pljeskavica.jpg',1),
 (2,2,'Ćevapi',8.5,'Mlevena govedina, jagnjetina, začini','https://example.com/cevapi.jpg',1),
 (3,1,'Ćevapi',7.5,'Mlevena govedina sa začinima','https://example.com/cevapi2.jpg',2),
 (4,2,'Sarma',10.0,'Kupus, svinjetina, mleveno meso','https://example.com/sarma2.jpg',2),
 (5,3,'Grilovana Riba',15.0,'Sveža riba sa povrćem','https://example.com/grilled_fish.jpg',2),
 (6,1,'Grilovana Riba',15.0,'Sveža riba sa povrćem','https://example.com/grilled_fish.jpg',3),
 (7,2,'Vegan Salata',7.0,'Lettuce, paradajz, krastavci, maslinovo ulje','https://example.com/vegan_salad.jpg',3),
 (8,1,'Zucchini Fritters',8.0,'Tikvice, brašno, začini','https://example.com/zucchini_fritters.jpg',4),
 (9,2,'Prženi Karp',14.5,'Sveže prženi šaran sa salatom','https://example.com/fried_carp.jpg',4),
 (10,3,'Burek',9.5,'Pita sa mesom ili sirom','https://example.com/burek.jpg',4),
 (11,1,'Pašticada',16.0,'Goveđi gulaš sa povrćem i vinom','https://example.com/pasticada.jpg',5),
 (12,2,'Pržena Piletina',10.5,'Hrskava pržena piletina sa pomfritom','https://example.com/fried_chicken.jpg',5),
 (13,3,'Gulaš',12.0,'Govedina, povrće, paprika','https://example.com/goulash.jpg',5);
 </sql><sql name="SQL 2">SELECT Id, OrderPosition, Name, Description, ImageUrl, Latitude, Longitude FROM KeyPoints ORDER BY Id ASC;</sql><sql name="SQL 3">CREATE TABLE &quot;TourKeypoints&quot; (
	&quot;KeypointId&quot;	INTEGER NOT NULL,
	&quot;TourId&quot;	INTEGER NOT NULL,
	PRIMARY KEY(&quot;KeypointId&quot;,&quot;TourId&quot;),
	FOREIGN KEY(&quot;KeypointId&quot;) REFERENCES &quot;KeyPoints&quot;(&quot;Id&quot;) ON DELETE CASCADE,
	FOREIGN KEY(&quot;TourId&quot;) REFERENCES &quot;Tours&quot;(&quot;Id&quot;) ON DELETE CASCADE
)

DROP TABLE IF EXISTS &quot;TourFeedbacks&quot;;
CREATE TABLE &quot;TourFeedbacks&quot; (
    &quot;Id&quot; INTEGER PRIMARY KEY AUTOINCREMENT,
    &quot;TourId&quot; INTEGER,
    &quot;UserId&quot; INTEGER,
    &quot;UserRating&quot; INTEGER CHECK(UserRating &gt;= 1 AND UserRating &lt;= 5),
    &quot;UserComment&quot; TEXT,
    &quot;PostedOn&quot; TEXT,
    FOREIGN KEY (TourId) REFERENCES Tours(Id) ON DELETE CASCADE,
    FOREIGN KEY (UserId) REFERENCES Users(Id) ON DELETE CASCADE
);
DROP TABLE IF EXISTS &quot;TourReservations&quot;;
CREATE TABLE &quot;TourReservations&quot; (
    &quot;Id&quot; INTEGER PRIMARY KEY AUTOINCREMENT,
    &quot;TourId&quot; INTEGER,
    &quot;UserId&quot; INTEGER,
    &quot;NumberOfGuests&quot; INTEGER,
    FOREIGN KEY (TourId) REFERENCES Tours(Id) ON DELETE CASCADE,
    FOREIGN KEY (UserId) REFERENCES Users(Id) ON DELETE CASCADE
);</sql><sql name="SQL 4">INSERT INTO TourKeypoints (KeyPointId, TourId)
VALUES (4,2);

DELETE FROM TourKeypoints WHERE KeyPointId = 4 AND TourId = 4;</sql><sql name="SQL 5">BEGIN TRANSACTION;
DROP TABLE IF EXISTS &quot;KeyPoints&quot;;
CREATE TABLE &quot;KeyPoints&quot; (
	&quot;Id&quot;	INTEGER,
	&quot;OrderPosition&quot;	INTEGER,
	&quot;Name&quot;	TEXT,
	&quot;Description&quot;	TEXT,
	&quot;ImageUrl&quot;	TEXT,
	&quot;Latitude&quot;	REAL,
	&quot;Longitude&quot;	REAL,
	PRIMARY KEY(&quot;Id&quot; AUTOINCREMENT)
);
DROP TABLE IF EXISTS &quot;Meals&quot;;
CREATE TABLE Meals (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
	OrderPosition INTEGER,
    Name TEXT,
    Price REAL,
    Ingredients TEXT,
    ImageUrl TEXT,
    RestaurantId INTEGER,
    FOREIGN KEY (RestaurantId) REFERENCES Restaurants(Id) ON DELETE CASCADE
);
DROP TABLE IF EXISTS &quot;Restaurants&quot;;
CREATE TABLE Restaurants (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Name TEXT,
    Description TEXT,
    Capacity INTEGER,
    ImageUrl TEXT,
    Latitude REAL,
	Longitude REAL,
	Status TEXT,
	OwnerId INTEGER,
	FOREIGN KEY (OwnerId) REFERENCES Users(Id) ON DELETE CASCADE
);
DROP TABLE IF EXISTS &quot;TourKeypoints&quot;;
CREATE TABLE &quot;TourKeypoints&quot; (
	&quot;KeypointId&quot;	INTEGER NOT NULL,
	&quot;TourId&quot;	INTEGER NOT NULL,
	PRIMARY KEY(&quot;KeypointId&quot;,&quot;TourId&quot;),
	FOREIGN KEY(&quot;KeypointId&quot;) REFERENCES &quot;KeyPoints&quot;(&quot;Id&quot;) ON DELETE CASCADE,
	FOREIGN KEY(&quot;TourId&quot;) REFERENCES &quot;Tours&quot;(&quot;Id&quot;) ON DELETE CASCADE
);
DROP TABLE IF EXISTS &quot;Tours&quot;;
CREATE TABLE Tours (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Name TEXT,
    Description TEXT,
    DateTime TEXT,
    MaxGuests INTEGER,
	Status TEXT,
	GuideId INTEGER,
    FOREIGN KEY (GuideId) REFERENCES Users(Id) ON DELETE CASCADE
);
DROP TABLE IF EXISTS &quot;Users&quot;;
CREATE TABLE Users (
   Id INTEGER PRIMARY KEY AUTOINCREMENT,
   Username TEXT,
   Password TEXT,
   Role TEXT
);

DROP TABLE IF EXISTS &quot;RestaurantReservations&quot;;
CREATE TABLE RestaurantReservations (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    RestaurantId INTEGER NOT NULL,
    UserId INTEGER NOT NULL,
    ReservationDate DATE NOT NULL,
    MealType TEXT NOT NULL CHECK (MealType IN ('dorucak', 'rucak', 'vecera')),
    NumberOfGuests INTEGER NOT NULL CHECK (NumberOfGuests &gt; 0),
    Status TEXT NOT NULL DEFAULT 'pending' CHECK (Status IN ('pending', 'confirmed', 'cancelled')),
    CreatedAt DATETIME NOT NULL DEFAULT (datetime('now')),
    FOREIGN KEY (RestaurantId) REFERENCES Restaurants(Id) ON DELETE CASCADE,
    FOREIGN KEY (UserId) REFERENCES Users(Id) ON DELETE CASCADE
);
INSERT INTO &quot;KeyPoints&quot; (&quot;Id&quot;,&quot;OrderPosition&quot;,&quot;Name&quot;,&quot;Description&quot;,&quot;ImageUrl&quot;,&quot;Latitude&quot;,&quot;Longitude&quot;) VALUES (4,1,'Petrovaradinska Tvrđava','Tvrđava sa prelepim pogledom na Novi Sad','https://example.com/petrovaradinska_tvrdjava.jpg',45.2461,19.8446),
 (5,2,'Zlatibor Priroda','Netaknuta priroda i staze na Zlatiboru','https://example.com/zlatibor_nature.jpg',43.7284,19.6089),
 (6,3,'Centar Novog Sada','Centar Novog Sada sa odličnim restoranima i prodavnicama','https://example.com/novi_sad_city.jpg',45.2671,19.8335),
 (7,1,'Niška Tvrđava','Tvrđava iz rimskog doba smeštena u Nišu','https://example.com/niska_tvrdjava.jpg',43.3147,21.8954),
 (8,2,'Crkva Svetog Save','Najveća crkva u Nišu','https://example.com/sveti_sava.jpg',43.3172,21.8961),
 (9,3,'Čele Kula','Spomenik žrtvama Prvog srpskog ustanka','https://example.com/cele_kula.jpg',43.3125,21.8958),
 (10,1,'Zemunska Obala','Uživajte u mirnom pogledu na reku sa Zemunske obale','https://example.com/zemun_quay.jpg',44.9862,20.4068),
 (11,2,'Gardos Toranj','Srednjovekovni toranj sa prelepim pogledom na reku','https://example.com/gardos_tower.jpg',44.9925,20.4031),
 (12,3,'Zemunska Crkva','Stara crkva sa bogatom istorijom','https://example.com/zemun_church.jpg',44.9867,20.406),
 (13,1,'Centar Subotice','Prelepa arhitektura i istorijske zgrade u centru Subotice','https://example.com/subotica_city.jpg',46.1003,19.6669),
 (14,2,'Palićko Jezero','Mirno jezero idealno za odmor','https://example.com/palic_lake.jpg',46.0705,19.7119),
 (15,3,'Subotička Sinagoga','Najveća sinagoga u Srbiji','https://example.com/subotica_synagogue.jpg',46.1003,19.6669),
 (23,1,'Bazen Maglic','Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum ','https://backipetrovacvesti.com/wp-content/uploads/2024/07/bazeni-backi-maglic-kompleks-bazen-696x387-1.jpg',34.0,34.0),
 (24,1,'Kej Novi Sad','Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum Lorem Ipsum ','https://backipetrovacvesti.com/wp-content/uploads/2024/07/bazeni-backi-maglic-kompleks-bazen-696x387-1.jpg',45.0,67.0);
INSERT INTO &quot;Meals&quot; (&quot;Id&quot;,&quot;OrderPosition&quot;,&quot;Name&quot;,&quot;Price&quot;,&quot;Ingredients&quot;,&quot;ImageUrl&quot;,&quot;RestaurantId&quot;) VALUES (1,1,'Pljeskavica',10.5,'Govedina, svinjetina, začini','https://example.com/pljeskavica.jpg',1),
 (2,2,'Ćevapi',8.5,'Mlevena govedina, jagnjetina, začini','https://example.com/cevapi.jpg',1),
 (3,1,'Ćevapi',7.5,'Mlevena govedina sa začinima','https://example.com/cevapi2.jpg',2),
 (4,2,'Sarma',10.0,'Kupus, svinjetina, mleveno meso','https://example.com/sarma2.jpg',2),
 (5,3,'Grilovana Riba',15.0,'Sveža riba sa povrćem','https://example.com/grilled_fish.jpg',2),
 (6,1,'Grilovana Riba',15.0,'Sveža riba sa povrćem','https://example.com/grilled_fish.jpg',3),
 (7,2,'Vegan Salata',7.0,'Lettuce, paradajz, krastavci, maslinovo ulje','https://example.com/vegan_salad.jpg',3),
 (8,1,'Zucchini Fritters',8.0,'Tikvice, brašno, začini','https://example.com/zucchini_fritters.jpg',4),
 (9,2,'Prženi Karp',14.5,'Sveže prženi šaran sa salatom','https://example.com/fried_carp.jpg',4),
 (10,3,'Burek',9.5,'Pita sa mesom ili sirom','https://example.com/burek.jpg',4),
 (11,1,'Pašticada',16.0,'Goveđi gulaš sa povrćem i vinom','https://example.com/pasticada.jpg',5),
 (12,2,'Pržena Piletina',10.5,'Hrskava pržena piletina sa pomfritom','https://example.com/fried_chicken.jpg',5),
 (13,3,'Gulaš',12.0,'Govedina, povrće, paprika','https://example.com/goulash.jpg',5);
INSERT INTO &quot;Restaurants&quot; (&quot;Id&quot;,&quot;Name&quot;,&quot;Description&quot;,&quot;Capacity&quot;,&quot;ImageUrl&quot;,&quot;Latitude&quot;,&quot;Longitude&quot;,&quot;Status&quot;,&quot;OwnerId&quot;) VALUES (1,'Restoran Kalemegdan','Tradicionalna srpska hrana sa pogledom na grad',100,'https://example.com/kalemegdan_restaurant.jpg',44.8176,20.4633,'objavljeno',7),
 (2,'Restoran Novi Sad','Sveži lokalni sastojci i moderna srpska kuhinja',80,'https://example.com/novi_sad_restaurant.jpg',45.2671,19.8335,'objavljeno',8),
 (3,'Restoran Niš','Tradicionalna jela u srcu Niša',60,'https://example.com/nis_restaurant.jpg',43.3147,21.8954,'objavljeno',9),
 (4,'Restoran Zemun','Prijatna atmosfera sa odličnom srpskom hranom',50,'https://example.com/zemun_restaurant.jpg',44.9897,20.4067,'objavljeno',7),
 (5,'Restoran Subotica','Sveži lokalni sastojci sa modernim twistom',70,'undefined',46.1003,19.6669,'objavljeno',8);
INSERT INTO &quot;TourKeypoints&quot; (&quot;KeypointId&quot;,&quot;TourId&quot;) VALUES (4,4),
 (4,2),
 (6,5),
 (4,5),
 (7,5),
 (5,2),
 (4,11),
 (5,11),
 (6,11),
 (7,11),
 (8,11),
 (4,15),
 (6,15),
 (10,15),
 (7,15);
INSERT INTO &quot;Tours&quot; (&quot;Id&quot;,&quot;Name&quot;,&quot;Description&quot;,&quot;DateTime&quot;,&quot;MaxGuests&quot;,&quot;Status&quot;,&quot;GuideId&quot;) VALUES (2,'Novi Sad Obilazak','Istražite najbolje od Novog Sada','2025-04-02 09:00:00',15,'objavljena',11),
 (3,'Niška Istorijska Tura','Šetnja kroz istoriju Niša','2025-04-03 11:00:00',10,'objavljeno',12),
 (4,'Zemunski Obala Tura','Scenski obilazak uz reku u Zemunu','2025-04-04 12:00:00',25,'objavljena',10),
 (5,'Subotica Kulturna Tura','Istražite kulturnu baštinu Subotice','2025-04-05 08:00:00',12,'objavljena',11),
 (11,'Bazen Maglic','lorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem ipsum','2025-07-26 21:50:00',45,'u pripremi',11),
 (15,'Zemunski Obala Tura','Lorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem IpsumLorem Ipsum','2025-07-31 23:02:00',34,'u pripremi',11);
INSERT INTO &quot;Users&quot; (&quot;Id&quot;,&quot;Username&quot;,&quot;Password&quot;,&quot;Role&quot;) VALUES (1,'turista1','turista1','turista'),
 (2,'turista2','turista2','turista'),
 (3,'turista3','turista3','turista'),
 (4,'turista4','turista4','turista'),
 (5,'turista5','turista5','turista'),
 (6,'turista6','turista6','turista'),
 (7,'vlasnik1','vlasnik1','vlasnik'),
 (8,'vlasnik2','vlasnik2','vlasnik'),
 (9,'vlasnik3','vlasnik3','vlasnik'),
 (10,'vodic1','vodic1','vodic'),
 (11,'vodic2','vodic2','vodic'),
 (12,'vodic3','vodic3','vodic');
 INSERT INTO &quot;RestaurantReservations&quot; (&quot;Id&quot;,&quot;RestaurantId&quot;,&quot;UserId&quot;,&quot;ReservationDate&quot;,&quot;MealType&quot;,&quot;NumberOfGuests&quot;,&quot;Status&quot;,&quot;CreatedAt&quot;) VALUES 
(1, 1, 1, '2025-07-15', 'rucak', 4, 'confirmed', '2025-07-09 14:30:00'),
(2, 2, 2, '2025-07-16', 'dorucak', 2, 'confirmed', '2025-07-09 09:15:00'),
(3, 3, 3, '2025-07-17', 'vecera', 6, 'confirmed', '2025-07-09 16:45:00'),
(4, 1, 4, '2025-07-18', 'rucak', 3, 'cancelled', '2025-07-09 11:20:00'),
(5, 2, 5, '2025-07-19', 'dorucak', 2, 'confirmed', '2025-07-09 08:30:00'),
(6, 3, 6, '2025-07-20', 'vecera', 4, 'confirmed', '2025-07-09 17:00:00'),
(7, 4, 1, '2025-07-21', 'rucak', 5, 'confirmed', '2025-07-09 12:15:00'),
(8, 5, 2, '2025-07-22', 'dorucak', 2, 'confirmed', '2025-07-09 07:45:00'),
(9, 1, 3, '2025-07-23', 'vecera', 3, 'cancelled', '2025-07-09 18:30:00'),
(10, 2, 4, '2025-07-24', 'rucak', 4, 'confirmed', '2025-07-09 13:20:00');
COMMIT;
</sql><sql name="SQL 7">INSERT INTO TourFeedbacks (TourId, UserId, UserRating, UserComment, PostedOn)
VALUES (1, 1, 1, &quot;string&quot;, &quot;2025-07-11T12:56:49.765Z&quot;);
SELECT LAST_INSERT_ROWID();

UPDATE Tours SET Status=&quot;objavljeno&quot; where id=3;

SELECT Id,TourId,UserId, NumberOfGuests,CreatedOn FROM TourReservations ORDER BY Id ASC;
SELECT Id,TourId,UserId, NumberOfGuests,CreatedOn FROM TourReservations  WHERE Userid= 1 ORDER BY Id ASC;

ALTER TABLE TourReservations ADD COLUMN CreatedOn TEXT;

BEGIN TRANSACTION;

-- New Tours for guide 10 (vodic1)
INSERT INTO &quot;Tours&quot; (&quot;Id&quot;,&quot;Name&quot;,&quot;Description&quot;,&quot;DateTime&quot;,&quot;MaxGuests&quot;,&quot;Status&quot;,&quot;GuideId&quot;) VALUES
 (41,'Beogradska Tura Kalemegdan','Obilazak tvrđave i centra Beograda','2025-09-05 10:00:00',20,'objavljeno',10),
 (42,'Dunavska Biciklistička Ruta','Biciklistička tura pored Dunava','2025-09-12 15:00:00',15,'objavljeno',10);

-- New Tours for guide 11 (vodic2)
INSERT INTO &quot;Tours&quot; (&quot;Id&quot;,&quot;Name&quot;,&quot;Description&quot;,&quot;DateTime&quot;,&quot;MaxGuests&quot;,&quot;Status&quot;,&quot;GuideId&quot;) VALUES
 (43,'Vojvodjanske Vinarije','Degustacija vina u poznatim vinarijama','2025-10-01 12:00:00',18,'objavljeno',11),
 (44,'Somborski Obilazak','Kulturno-istorijski obilazak Sombora','2025-10-10 14:00:00',25,'objavljeno',11);

-- New Tours for guide 12 (vodic3)
INSERT INTO &quot;Tours&quot; (&quot;Id&quot;,&quot;Name&quot;,&quot;Description&quot;,&quot;DateTime&quot;,&quot;MaxGuests&quot;,&quot;Status&quot;,&quot;GuideId&quot;) VALUES
 (45,'Niška Gastro Tura','Specijaliteti Niša i lokalni restorani','2025-11-02 13:00:00',16,'objavljeno',12),
 (46,'Planinarenje na Tari','Planinarenje i uživanje u prirodi na Tari','2025-11-15 09:00:00',12,'objavljeno',12);

-- KeyPoints connections (sample)
INSERT INTO &quot;TourKeypoints&quot; (&quot;KeypointId&quot;,&quot;TourId&quot;) VALUES
 (7,41),(8,41),(9,41),  -- Beograd tour
 (10,42),(11,42),       -- Dunav bike tour
 (13,43),(14,43),(15,43), -- Vojvodina wine
 (34,44),(35,44),(36,44), -- Sombor
 (7,45),(8,45),(9,45),  -- Niš gastro
 (5,46),(6,46);         -- Tara

-- Reservations (mix of tourists 1–6 booking different tours)
INSERT INTO &quot;TourReservations&quot; (&quot;Id&quot;,&quot;TourId&quot;,&quot;UserId&quot;,&quot;NumberOfGuests&quot;,&quot;CreatedOn&quot;) VALUES
 (24,41,1,4,'2025-08-26 10:15:00'),
 (25,41,2,6,'2025-08-27 09:00:00'),
 (26,42,3,2,'2025-08-28 12:45:00'),
 (27,42,4,3,'2025-08-29 16:10:00'),
 (28,43,5,5,'2025-09-05 11:20:00'),
 (29,43,6,2,'2025-09-05 11:30:00'),
 (30,44,1,8,'2025-09-06 14:00:00'),
 (31,44,2,10,'2025-09-07 09:00:00'),
 (32,45,3,4,'2025-09-10 17:00:00'),
 (33,45,4,6,'2025-09-11 13:30:00'),
 (34,46,5,5,'2025-09-15 09:15:00'),
 (35,46,6,2,'2025-09-15 09:45:00');

COMMIT; |||||

BEGIN TRANSACTION;

-- Only new KeyPoints
INSERT INTO &quot;KeyPoints&quot; (&quot;Id&quot;,&quot;OrderPosition&quot;,&quot;Name&quot;,&quot;Description&quot;,&quot;ImageUrl&quot;,&quot;Latitude&quot;,&quot;Longitude&quot;) VALUES
 (37,1,'Bazen Maglic','Lorem Ipsum ...','https://backipetrovacvesti.com/wp-content/uploads/2024/07/bazeni-backi-maglic-kompleks-bazen-696x387-1.jpg',34.0,34.0),
 (39,1,'test999','Lorem Ipsum Lorem Ipsum ...','https://backipetrovacvesti.com/wp-content/uploads/2024/07/bazeni-backi-maglic-kompleks-bazen-696x387-1.jpg',32.0,45.0),
 (40,1,'Novi Sad Obilazak','Lorem Ipsum Lorem Ipsum ...','https://backipetrovacvesti.com/wp-content/uploads/2024/07/bazeni-backi-maglic-kompleks-bazen-696x387-1.jpg',45.254971,19.849835);

-- Only new TourKeypoints
INSERT INTO &quot;TourKeypoints&quot; (&quot;KeypointId&quot;,&quot;TourId&quot;) VALUES
 (7,41),
 (8,41),
 (9,41),
 (10,42),
 (11,42),
 (13,43),
 (14,43),
 (15,43),
 (34,44),
 (35,44),
 (36,44),
 (7,45),
 (8,45),
 (9,45),
 (5,46),
 (6,46);

-- Only new TourReservations
INSERT INTO &quot;TourReservations&quot; (&quot;Id&quot;,&quot;TourId&quot;,&quot;UserId&quot;,&quot;NumberOfGuests&quot;,&quot;CreatedOn&quot;) VALUES
 (24,41,1,4,'2025-08-26 10:15:00'),
 (25,41,2,6,'2025-08-27 09:00:00'),
 (26,42,3,2,'2025-08-28 12:45:00'),
 (27,42,4,3,'2025-08-29 16:10:00'),
 (28,43,5,5,'2025-09-05 11:20:00'),
 (29,43,6,2,'2025-09-05 11:30:00'),
 (30,44,1,8,'2025-09-06 14:00:00'),
 (31,44,2,10,'2025-09-07 09:00:00'),
 (32,45,3,4,'2025-09-10 17:00:00'),
 (33,45,4,6,'2025-09-11 13:30:00'),
 (34,46,5,5,'2025-09-15 09:15:00'),
 (35,46,6,2,'2025-09-15 09:45:00');

-- Only new Tours
INSERT INTO &quot;Tours&quot; (&quot;Id&quot;,&quot;Name&quot;,&quot;Description&quot;,&quot;DateTime&quot;,&quot;MaxGuests&quot;,&quot;Status&quot;,&quot;GuideId&quot;) VALUES
 (41,'Beogradska Tura Kalemegdan','Obilazak tvrđave i centra Beograda','2025-09-05 10:00:00',20,'objavljeno',10),
 (42,'Dunavska Biciklistička Ruta','Biciklistička tura pored Dunava','2025-09-12 15:00:00',15,'objavljeno',10),
 (43,'Vojvodjanske Vinarije','Degustacija vina u poznatim vinarijama','2025-10-01 12:00:00',18,'objavljeno',11),
 (44,'Somborski Obilazak','Kulturno-istorijski obilazak Sombora','2025-10-10 14:00:00',25,'objavljeno',11),
 (45,'Niška Gastro Tura','Specijaliteti Niša i lokalni restorani','2025-11-02 13:00:00',16,'objavljeno',12),
 (46,'Planinarenje na Tari','Planinarenje i uživanje u prirodi na Tari','2025-11-15 09:00:00',12,'objavljeno',12);

COMMIT;|||||\
BEGIN TRANSACTION;
INSERT INTO &quot;TourReservations&quot; (&quot;Id&quot;,&quot;TourId&quot;,&quot;UserId&quot;,&quot;NumberOfGuests&quot;,&quot;CreatedOn&quot;) VALUES
(36,2,2,3,'2025-08-30 10:15:00'),
(37,3,3,5,'2025-08-31 12:00:00'),
(38,4,1,2,'2025-09-01 14:30:00'),
(39,8,4,6,'2025-09-02 16:45:00'),
(40,41,5,4,'2025-09-03 11:20:00'),
(41,42,6,3,'2025-09-04 09:50:00'),
(42,43,1,2,'2025-09-05 10:30:00'),
(43,44,2,7,'2025-09-06 13:10:00'),
(44,45,3,5,'2025-09-07 15:40:00'),
(45,46,4,4,'2025-09-08 17:25:00'),
(46,2,5,6,'2025-09-09 12:15:00'),
(47,3,6,3,'2025-09-10 14:05:00'),
(48,4,1,4,'2025-09-11 16:30:00'),
(49,8,2,5,'2025-09-12 09:45:00'),
(50,41,3,2,'2025-09-13 11:50:00');
COMMIT;


</sql><sql name="SQL 7*">SELECT 
    t.Id, 
    t.Name, 
    t.Description, 
    t.DateTime, 
    t.MaxGuests, 
    t.Status,
    u.Id AS GuideId, 
    u.Username,
    kp.Id AS KeyPointId, 
    kp.OrderPosition, 
    kp.Name AS KeyPointName, 
    kp.Description AS KeyPointDescription,
    kp.ImageUrl AS KeyPointImageUrl, 
    kp.Latitude, 
    kp.Longitude,
    tr.Id AS ReservationId, 
    tr.TourId AS ReservationTourId, 
    tr.UserId AS ReservationUserId,
    tr.NumberOfGuests, 
    tr.CreatedOn,
    tf.Id AS FeedbackId, 
    tf.TourId AS FeedbackTourId, 
    tf.UserId AS FeedbackUserId,
    tf.UserRating, 
    tf.UserComment, 
    tf.PostedOn
FROM Tours t
INNER JOIN Users u ON t.GuideId = u.Id
LEFT JOIN TourKeypoints tkp ON t.Id = tkp.TourId
LEFT JOIN KeyPoints kp ON kp.Id = tkp.KeypointId
LEFT JOIN TourFeedbacks tf ON t.Id = tf.TourId
LEFT JOIN TourReservations tr ON t.Id = tr.TourId
WHERE t.GuideId = 11
ORDER BY t.Id;


INSERT INTO &quot;TourReservations&quot; (&quot;TourId&quot;,&quot;UserId&quot;,&quot;NumberOfGuests&quot;,&quot;CreatedOn&quot;) VALUES
-- Tour 2 (Niška Istorijska Tura)
(2,3,2,'2025-09-18 10:20:00'),
(2,4,4,'2025-10-02 11:45:00'),
(2,6,3,'2025-10-12 09:30:00'),

-- Tour 3 (Zemunski Obala Tura)
(3,2,5,'2025-09-20 14:15:00'),
(3,4,3,'2025-10-08 16:40:00'),
(3,5,2,'2025-10-20 12:50:00'),

-- Tour 4 (Subotica Kulturna Tura)
(4,2,3,'2025-09-05 13:25:00'),
(4,3,4,'2025-09-18 15:10:00'),
(4,6,2,'2025-10-01 17:35:00'),

-- Tour 8 (Neka nova tura)
(8,1,2,'2025-09-02 09:40:00'),
(8,3,3,'2025-09-18 18:25:00'),
(8,6,4,'2025-09-25 10:20:00'),

-- Tour 41 (Beogradska Tura Kalemegdan)
(41,4,2,'2025-09-07 14:10:00'),
(41,6,3,'2025-09-14 16:00:00'),
(41,1,5,'2025-09-22 11:30:00'),

-- Tour 42 (Dunavska Biciklistička Ruta)
(42,2,4,'2025-09-13 09:05:00'),
(42,5,2,'2025-09-19 13:40:00'),
(42,1,3,'2025-09-25 17:20:00'),

-- Tour 43 (Vojvodjanske Vinarije)
(43,3,4,'2025-09-20 12:10:00'),
(43,4,3,'2025-10-04 14:35:00'),
(43,6,2,'2025-10-09 11:15:00'),

-- Tour 44 (Somborski Obilazak)
(44,4,5,'2025-09-20 16:20:00'),
(44,5,2,'2025-10-03 15:10:00'),
(44,6,3,'2025-10-06 13:50:00'),

-- Tour 45 (Niška Gastro Tura)
(45,1,4,'2025-09-18 12:40:00'),
(45,2,3,'2025-10-25 11:35:00'),
(45,5,2,'2025-11-06 14:15:00'),

-- Tour 46 (Planinarenje na Tari)
(46,1,2,'2025-09-27 09:20:00'),
(46,2,3,'2025-10-13 12:15:00'),
(46,3,4,'2025-11-07 10:40:00'),

-- Tour 47 (Zrenjaninske bare)
(47,1,3,'2025-09-01 15:05:00'),
(47,2,4,'2025-09-06 10:20:00'),
(47,5,2,'2025-09-11 13:35:00');
</sql><current_tab id="6"/></tab_sql></sqlb_project>
